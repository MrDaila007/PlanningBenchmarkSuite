# План разработки: Planning Benchmark Suite

## Последовательность выполнения задач

### Этап 1: Структура проекта и инфраструктура

- **Задача 1.1** — Создание структуры CMake, зависимостей и заглушек модулей
  - Юзер-кейсы: UC-10 (инфраструктура)
  - Файл описания: `tasks/task_1_1.md`
  - Приоритет: Критичный
  - Зависимости: нет

- **Задача 1.2** — Core типы и интерфейсы (State, Path, IPlanner, IEnvironment) как заглушки
  - Юзер-кейсы: UC-01, UC-02
  - Файл описания: `tasks/task_1_2.md`
  - Приоритет: Критичный
  - Зависимости: Задача 1.1

### Этап 2: Геометрия и окружение

- **Задача 2.1** — Collision checking для Grid (occupancy, Bresenham)
  - Юзер-кейсы: UC-04
  - Файл описания: `tasks/task_2_1.md`
  - Приоритет: Высокий
  - Зависимости: Задача 1.2

- **Задача 2.2** — GridEnvironment и MapGenerator (заглушки + детерминированная генерация)
  - Юзер-кейсы: UC-03, UC-01
  - Файл описания: `tasks/task_2_2.md`
  - Приоритет: Высокий
  - Зависимости: Задача 2.1

- **Задача 2.3** — Continuous collision (segment-polygon, clearance)
  - Юзер-кейсы: UC-04, UC-02
  - Файл описания: `tasks/task_2_3.md`
  - Приоритет: Высокий
  - Зависимости: Задача 1.2

- **Задача 2.4** — ContinuousEnvironment и SE2Environment (заглушки + базовая реализация)
  - Юзер-кейсы: UC-02, UC-11
  - Файл описания: `tasks/task_2_4.md`
  - Приоритет: Высокий
  - Зависимости: Задача 2.3

### Этап 3: Grid-based планировщики

- **Задача 3.1** — Dijkstra и A* (min-heap, admissibility check)
  - Юзер-кейсы: UC-01
  - Файл описания: `tasks/task_3_1.md`
  - Приоритет: Критичный
  - Зависимости: Задача 2.2

- **Задача 3.2** — Weighted A* и Theta*
  - Юзер-кейсы: UC-01
  - Файл описания: `tasks/task_3_2.md`
  - Приоритет: Высокий
  - Зависимости: Задача 3.1

### Этап 4: Sampling-based планировщики

- **Задача 4.1** — PRM и Lazy PRM (KD-tree, базовый граф)
  - Юзер-кейсы: UC-02
  - Файл описания: `tasks/task_4_1.md`
  - Приоритет: Высокий
  - Зависимости: Задача 2.4

- **Задача 4.2** — RRT и RRT* (step size, goal bias, rewiring)
  - Юзер-кейсы: UC-02
  - Файл описания: `tasks/task_4_2.md`
  - Приоритет: Высокий
  - Зависимости: Задача 4.1

- **Задача 4.3** — Informed RRT* и convergence tracking
  - Юзер-кейсы: UC-02, UC-05
  - Файл описания: `tasks/task_4_3.md`
  - Приоритет: Высокий
  - Зависимости: Задача 4.2

### Этап 5: Метрики и Benchmark Engine

- **Задача 5.1** — Metrics (path length, time, nodes, success rate, memory; smoothness, clearance, energy)
  - Юзер-кейсы: UC-05
  - Файл описания: `tasks/task_5_1.md`
  - Приоритет: Высокий
  - Зависимости: Задача 3.2, Задача 4.3

- **Задача 5.2** — Benchmark Engine (batch, parallel, mean/std/CI, CSV/JSON export)
  - Юзер-кейсы: UC-06, UC-07
  - Файл описания: `tasks/task_5_2.md`
  - Приоритет: Критичный
  - Зависимости: Задача 5.1

- **Задача 5.3** — CLI benchmark (./benchmark --config)
  - Юзер-кейсы: UC-06
  - Файл описания: `tasks/task_5_3.md`
  - Приоритет: Высокий
  - Зависимости: Задача 5.2

### Этап 6: Python API и визуализация

- **Задача 6.1** — pybind11 bindings для планировщиков и окружений
  - Юзер-кейсы: UC-08, UC-09
  - Файл описания: `tasks/task_6_1.md`
  - Приоритет: Средний
  - Зависимости: Задача 5.3

### Этап 7: Тестирование, CI, Docker

- **Задача 7.1** — Unit, regression, performance tests; coverage ≥ 80%
  - Юзер-кейсы: UC-10
  - Файл описания: `tasks/task_7_1.md`
  - Приоритет: Критичный
  - Зависимости: Задача 6.1

- **Задача 7.2** — CI pipeline, Docker, reproducibility
  - Юзер-кейсы: UC-07, UC-10
  - Файл описания: `tasks/task_7_2.md`
  - Приоритет: Высокий
  - Зависимости: Задача 7.1

### Этап 8: Документация

- **Задача 8.1** — Архитектурная диаграмма, Doxygen, README, примеры конфигов
  - Юзер-кейсы: UC-07 (репликация), документация из ТЗ
  - Файл описания: `tasks/task_8_1.md`
  - Приоритет: Высокий
  - Зависимости: Задача 7.2

---

## Покрытие юзер-кейсов

| Юзер-кейс | Задачи |
|------------|--------|
| UC-01 (Grid планировщики) | 1.2, 2.1, 2.2, 3.1, 3.2, 5.1 |
| UC-02 (Sampling-based) | 1.2, 2.3, 2.4, 4.1, 4.2, 4.3, 5.1 |
| UC-03 (Map Generator) | 2.2 |
| UC-04 (Collision) | 2.1, 2.3 |
| UC-05 (Метрики) | 5.1, 4.3 |
| UC-06 (Benchmark Engine) | 5.2, 5.3 |
| UC-07 (Reproducibility) | 5.2, 7.2, 8.1 |
| UC-08 (Визуализация) | 6.1 |
| UC-09 (Статистика) | 6.1 |
| UC-10 (Тесты, CI) | 1.1, 7.1, 7.2 |
| UC-11 (SE(2)/SE(3)) | 2.4 |
